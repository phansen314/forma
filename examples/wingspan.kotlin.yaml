target: kotlin

emitters:
  atoms:
    BirdId: int
    BonusId: int
    GoalId: int
    PlayerId: int
    Round: int

  engine:
    # Generation settings
    package: tech.codingzen.wingspan.model
    output: ./output/generated-wingspan.kt
    immutability: full
    nullability: strict
    collections:
      library: kotlinx-immutable
      collection: PersistentList
      set: PersistentSet
      association: PersistentMap
    serialization: none

    shape: data_class
    choice: enum

    # Per-name overrides
    BirdCard:
      habitats: set
      beak: set
    BirdState:
      style: bitmask
      bits:
        id: 10
        tucked_count: 6
        eggs: 4
        cached_food: 6 per enum
        position: 3
    BirdFeeder:
      style: bitmask
      bits:
        slots: 5 of enum
    ActionsTaken:
      style: bitmask
      bits:
        actions: 4 of enum
    PlayerFood:
      style: bitmask
      bits:
        supply: 4 per enum
